Initialize Ansible:

Disable host key checking
[defaults]
host_key_checking = false


To check that all nodes are reacheable:
ansible all -m ping -i hosts -k

Upload ssh key to all nodes:
ansible-playbook -i hosts upload_ssy_keys.yml -k

Change hostname
ansible-playbook -e 'reboot=true' -i hosts change_hostname.yml





kubeadm init --pod-network-cidr 10.244.0.0/16 --apiserver-advertise-address 10.91.145.132

kubeadm join --token 99905e.a41d71ba9f5cf96b 10.91.145.132:6443 --discovery-token-ca-cert-hash sha256:1717f9252bbff3b0a123011696e06cb273f456505a5920978bd521f9cb42b1b0

curl https://rawgit.com/coreos/flannel/master/Documentation/kube-flannel.yml \
|  sed "s/amd64/arm/g" | sed "s/vxlan/host-gw/g" \
  > kube-flannel.yaml
kubectl apply -f kube-flannel.yaml

kubectl describe --namespace=kube-system configmaps/kube-flannel-cfg
kubectl describe --namespace=kube-system daemonsets/kube-flannel-ds
kubectl --namespace=kube-system describe pod kube-dns-66ffd5c588-frf55

kubectl get pods --all-namespaces

curl -OL https://raw.githubusercontent.com/kubernetes/dashboard/master/src/deploy/recommended/kubernetes-dashboard-arm.yaml
kubectl apply -f kubernetes-dashboard-arm.yaml

curl -sSL \
  https://raw.githubusercontent.com/kubernetes/dashboard/master/src/deploy/recommended/kubernetes-dashboard-arm.yaml \
  | kubectl apply -f -

ssh -L8001:localhost:8001 10.91.145.132
http://localhost:8001/api/v1/namespaces/kube-system/services/https:kubernetes-dashboard:/proxy/
